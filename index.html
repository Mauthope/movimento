<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logística do Rebocador</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f4f4f9;
            color: #333;
        }
        h1 {
            text-align: center;
            color: #4CAF50;
        }
        .container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        .section {
            background: #fff;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            flex: 1;
            min-width: 300px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        th, td {
            text-align: center;
            border: 1px solid #ddd;
            padding: 8px;
        }
        th {
            background: #4CAF50;
            color: white;
        }
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            border-radius: 5px;
        }
        button:hover {
            background: #45a049;
        }
    </style>
</head>
<body>
    <h1>Simulação de Logística do Rebocador</h1>
    <div class="container">
        <!-- Entrada de Dados -->
        <div class="section">
            <h2>Configuração dos Setores</h2>
            <div>
                <label for="imp-length">Comprimento de bobina (m) - Impressão:</label>
                <input type="number" id="imp-length" value="3000"><br><br>
                <label for="imp-speed">Velocidade de consumo (m/min) - Impressão:</label>
                <input type="number" id="imp-speed" value="212"><br><br>

                <label for="lam-length">Comprimento de bobina (m) - Laminação:</label>
                <input type="number" id="lam-length" value="2500"><br><br>
                <label for="lam-speed">Velocidade de consumo (m/min) - Laminação:</label>
                <input type="number" id="lam-speed" value="180"><br><br>

                <label for="f1-consumption">Bobinas por hora - F1:</label>
                <input type="number" id="f1-consumption" value="4"><br><br>

                <label for="cycle-time">Tempo de ciclo do rebocador (min):</label>
                <input type="number" id="cycle-time" value="15"><br><br>
                
                <label for="rebocador-capacity">Capacidade do rebocador (bobinas):</label>
                <input type="number" id="rebocador-capacity" value="6"><br><br>

                <button onclick="calculate()">Simular</button>
            </div>
        </div>

        <!-- Resultado -->
        <div class="section">
            <h2>Resultados</h2>
            <div id="results">
                <p>Preencha os campos e clique em "Simular".</p>
            </div>
        </div>
    </div>

    <script>
        function calculate() {
            const impLength = parseFloat(document.getElementById('imp-length').value);
            const impSpeed = parseFloat(document.getElementById('imp-speed').value);
            const lamLength = parseFloat(document.getElementById('lam-length').value);
            const lamSpeed = parseFloat(document.getElementById('lam-speed').value);
            const f1Consumption = parseFloat(document.getElementById('f1-consumption').value);
            const cycleTime = parseFloat(document.getElementById('cycle-time').value);
            const rebocadorCapacity = parseFloat(document.getElementById('rebocador-capacity').value);

            // Cálculo da demanda por bobina por minuto
            const impDemand = 1 / (impLength / impSpeed);
            const lamDemand = 1 / (lamLength / lamSpeed);
            const f1Demand = f1Consumption / 60;

            // Cálculo do Takt Time
            const taktImp = 1 / impDemand;
            const taktLam = 1 / lamDemand;
            const taktF1 = 1 / f1Demand;

            // Distribuição por viagem
            let viagens = [];
            let totalDemand = impDemand + lamDemand + f1Demand;

            if (totalDemand > rebocadorCapacity / cycleTime) {
                viagens.push("Capacidade do rebocador insuficiente para atender a demanda total.");
            } else {
                let remainingCapacity = rebocadorCapacity;
                while (totalDemand > 0) {
                    let viagem = { imp: 0, lam: 0, f1: 0 };
                    if (remainingCapacity >= 1) {
                        if (impDemand > 0) viagem.imp++;
                        if (lamDemand > 0) viagem.lam++;
                        if (f1Demand > 0) viagem.f1++;
                        remainingCapacity--;
                        totalDemand--;
                    }
                    viagens.push(viagem);
                }
            }

            // Exibir resultados
            const resultsDiv = document.getElementById("results");
            resultsDiv.innerHTML = `
                <p><strong>Takt Time Impressão:</strong> ${taktImp.toFixed(2)} min</p>
                <p><strong>Takt Time Laminação:</strong> ${taktLam.toFixed(2)} min</p>
                <p><strong>Takt Time F1:</strong> ${taktF1.toFixed(2)} min</p>
                <table>
                    <tr>
                        <th>Viagem</th>
                        <th>Impressão</th>
                        <th>Laminação</th>
                        <th>F1</th>
                    </tr>
                    ${viagens.map((v, i) => `
                        <tr>
                            <td>${i + 1}</td>
                            <td>${v.imp || '-'}</td>
                            <td>${v.lam || '-'}</td>
                            <td>${v.f1 || '-'}</td>
                        </tr>
                    `).join('')}
                </table>
            `;
        }
    </script>
</body>
</html>
